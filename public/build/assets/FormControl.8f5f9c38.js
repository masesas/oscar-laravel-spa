import{o as n,c as F,f as c,k as p,l as S,m as x,d as r,y,C as E,n as v,t as B,e as b,F as V,q,D as M,E as R,r as C}from"./app.eda14a62.js";import{u as D}from"./main.e2c00908.js";import{_ as L}from"./BaseIcon.d8c52459.js";const H={__name:"FormControlIcon",props:{icon:{type:String,default:null},h:{type:String,default:null}},setup(e){return(s,l)=>(n(),F(L,{path:e.icon,w:"w-10",h:e.h,class:"absolute top-0 left-0 z-10 pointer-events-none text-gray-500 dark:text-slate-400"},null,8,["path","h"]))}},T={class:"relative"},U=["id","name"],K={key:0,value:""},$=["value","innerHTML"],j=["id","name","placeholder","required"],z=["id","name","inputmode","autocomplete","required","placeholder","type"],O={__name:"FormControl",props:{name:{type:String,default:null},id:{type:String,default:null},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},inputmode:{type:String,default:null},icon:{type:String,default:null},options:{type:[Array,Object],default:null},type:{type:String,default:"text"},modelValue:{type:[String,Number,Boolean,Array,Object],default:""},required:Boolean,borderless:Boolean,transparent:Boolean,ctrlKFocus:Boolean,error:{type:String,default:null}},emits:["update:modelValue","setRef"],setup(e,{emit:s}){const l=e,u=c({get:()=>l.modelValue,set:a=>{s("update:modelValue",a)}}),m=c(()=>{const a=["px-3 py-2 max-w-full focus:ring focus:outline-none rounded w-full","dark:placeholder-gray-400",d.value==="textarea"?"h-24":"h-12",l.borderless?"border-0":"border",l.transparent?"bg-transparent":"bg-white dark:bg-slate-800",l.error?"border-red-400":"border-gray-700"];return l.icon&&a.push("pl-10"),a}),d=c(()=>l.options?"select":l.type),w=c(()=>l.type==="textarea"?"h-full":"h-12"),f=D(),h=p(null),g=p(null),i=p(null);if(S(()=>{h.value?s("setRef",h.value):g.value?s("setRef",g.value):s("setRef",i.value)}),l.ctrlKFocus){const a=t=>{t.ctrlKey&&t.key==="k"?(t.preventDefault(),i.value.focus()):t.key==="Escape"&&i.value.blur()};S(()=>{f.isFieldFocusRegistered||(window.addEventListener("keydown",a),f.isFieldFocusRegistered=!0)}),x(()=>{window.removeEventListener("keydown",a),f.isFieldFocusRegistered=!1})}return(a,t)=>(n(),r("div",T,[d.value==="select"?y((n(),r("select",{key:0,id:e.id,"onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),name:e.name,class:v(m.value)},[e.placeholder?(n(),r("option",K,B(e.placeholder),1)):b("",!0),(n(!0),r(V,null,q(e.options,(o,k)=>(n(),r("option",{key:k,value:k,innerHTML:o},null,8,$))),128))],10,U)),[[E,u.value]]):d.value==="textarea"?y((n(),r("textarea",{key:1,id:e.id,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),class:v(m.value),name:e.name,placeholder:e.placeholder,required:e.required},null,10,j)),[[M,u.value]]):y((n(),r("input",{key:2,id:e.id,ref_key:"inputEl",ref:i,"onUpdate:modelValue":t[2]||(t[2]=o=>u.value=o),name:e.name,inputmode:e.inputmode,autocomplete:e.autocomplete,required:e.required,placeholder:e.placeholder,type:d.value,class:v(m.value)},null,10,z)),[[R,u.value]]),e.icon?(n(),F(H,{key:3,icon:e.icon,h:w.value},null,8,["icon","h"])):b("",!0),C(a.$slots,"default")]))}};export{O as _};
